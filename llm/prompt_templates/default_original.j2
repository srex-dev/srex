You are a Site Reliability Engineer (SRE). Generate a reliability configuration as a **strict JSON object** that includes SLIs, SLOs, alerting rules, a short explanation, and concrete improvement suggestions.

üõë STRICT FIELD RULES:
- All required fields must be present and non-empty.
- The top-level 'slo' key MUST always be present, even if empty.
- For SLI objects, the `type` field must be one of: "latency", "error", "availability", "throughput", "queue", "saturation", "utilization", "custom".
- Do NOT leave any required field as an empty string, empty list, or null.
- If unsure, use a sensible default (e.g., "custom" for SLI type).
- Every SLO, SLI, and alert object MUST include a non-empty, descriptive "name" field. Do NOT omit or leave the "name" field empty for any object. If unsure, use a placeholder like 'unnamed-alert'.

üìå ONLY return a strict JSON object with closed brackets and quoted values.  
‚ùå DO NOT return markdown, YAML, comments, or natural language outside of the JSON.  
‚úÖ DO NOT return empty strings or empty lists unless data truly doesn't apply.  

Your output **must** follow this exact structure and format:

{
  "sli": [
    {
      "name": "string",
      "description": "string",
      "type": "latency | error | availability | throughput | queue | saturation | utilization | custom",
      "unit": "string",
      "source": "prometheus | datadog | cloudwatch | stackdriver | grafana | newrelic | custom",
      "metric": "string"
    }
  ],
  "slo": [
    {
      "name": "string",
      "description": "string",
      "sli": "string",
      "target": float,
      "time_window": "7d | 30d | 90d"
    }
  ],
  "alerts": [
    {
      "name": "string",
      "description": "string",
      "severity": "info | warning | critical",
      "expr": "string",
      "for": "5m | 10m | 30m"
    }
  ],
  "explanation": "Explain why these SLOs and alerts were chosen and how they relate to the service's purpose and observed metrics.",
  "llm_suggestions": [
    {
      "metric": "string",
      "recommendation": "Provide a specific, actionable optimization or monitoring improvement for the selected metric, including concrete numbers (e.g., 'Set an alert if error rate exceeds 1% for 5 minutes', 'Increase SLO target for availability to 99.95%', or 'Trigger a page if latency > 200ms for 3 consecutive checks')."
    }
  ]
}

---

## Service Context

**Service Name**: {{ service_name }}
**Description**: {{ description | default("No description provided.") }}

{% if metrics %}
**Available Metrics**:
{% for metric in metrics %}
- Name: {{ metric.name }}
  - Type: {{ metric.type }}
  - Source: {{ metric.source }}
{% endfor %}
{% endif %}

{% if sli_inputs %}
**Observed SLIs**:
{% for sli in sli_inputs %}
- {{ sli.name }}: {{ sli.value }} {{ sli.unit or '' }} (Query: {{ sli.metric }})
{% endfor %}
{% endif %}

---

‚ö†Ô∏è ONLY return a strict JSON object. DO NOT include code blocks, headers, bullet points, or additional commentary outside the object.

## STRICT JSON BLOCK FOR LLM TO FILL
{
  "sli": [
    {% for sli in sli_inputs %}
    {
      "name": "{{ sli.name }}",
      "description": "{{ sli.description }}",
      "type": "{{ sli.type }}",
      "unit": "{{ sli.unit }}",
      "source": "{{ sli.source }}",
      "metric": "{{ sli.metric }}",
      "value": {{ sli.value }}
    }{% if not loop.last %},{% endif %}
    {% endfor %}
  ],
  "slo": [
    {
      "name": "Availability SLO",
      "description": "Ensure service is available at least 99.9% of the time over a 30-day window.",
      "sli": "availability_service",
      "target": 99.9,
      "time_window": "30d"
    },
    {
      "name": "Latency SLO",
      "description": "95% of requests complete in under 200ms over a 7-day window.",
      "sli": "latency_service",
      "target": 0.95,
      "time_window": "7d"
    },
    {
      "name": "Error Rate SLO",
      "description": "Keep error rate below 1% over a 30-day window.",
      "sli": "error_service",
      "target": 0.99,
      "time_window": "30d"
    },
    {
      "name": "Queue Utilization SLO",
      "description": "Queue utilization remains below 90% over a 7-day window.",
      "sli": "queue_service",
      "target": 0.9,
      "time_window": "7d"
    },
    {
      "name": "Saturation SLO",
      "description": "Saturation remains below 85% over a 7-day window.",
      "sli": "saturation_service",
      "target": 0.85,
      "time_window": "7d"
    },
    {
      "name": "Utilization SLO",
      "description": "Utilization remains below 80% over a 7-day window.",
      "sli": "utilization_service",
      "target": 0.8,
      "time_window": "7d"
    },
    {
      "name": "Throughput SLO",
      "description": "Throughput remains above 80% of current value over a 7-day window.",
      "sli": "throughput_service",
      "target": 80,
      "time_window": "7d"
    }
  ],
  "alerts": [
    {
      "name": "Availability Alert",
      "description": "Alert if availability falls below 99% for 10m.",
      "threshold": 99.0,
      "duration": "10m"
    },
    {
      "name": "Latency Alert",
      "description": "Alert if latency exceeds 200ms for 5m.",
      "threshold": 200,
      "duration": "5m"
    },
    {
      "name": "Error Rate Alert",
      "description": "Alert if error rate exceeds 1% for 10m.",
      "threshold": 1.0,
      "duration": "10m"
    },
    {
      "name": "Queue Utilization Alert",
      "description": "Alert if queue utilization exceeds 90% for 10m.",
      "threshold": 90.0,
      "duration": "10m"
    },
    {
      "name": "Saturation Alert",
      "description": "Alert if saturation exceeds 85% for 10m.",
      "threshold": 85.0,
      "duration": "10m"
    },
    {
      "name": "Utilization Alert",
      "description": "Alert if utilization exceeds 80% for 10m.",
      "threshold": 80.0,
      "duration": "10m"
    },
    {
      "name": "Throughput Alert",
      "description": "Alert if throughput falls below 80% of current value for 10m.",
      "threshold": 80.0,
      "duration": "10m"
    }
  ],
  "explanation": "Explain why these SLOs and alerts were chosen and how they relate to the service's purpose and observed metrics.",
  "llm_suggestions": [
    // Suggestions to be filled by LLM or template logic
  ]
}

IMPORTANT: ONLY return a valid JSON object. Do not include any comments, markdown, or trailing commas. All property names and string values must be in double quotes.

---

- All recommendations in 'llm_suggestions' must include at least one concrete number (threshold, percentage, duration, etc.).
- Avoid vague language; be as specific and actionable as possible.

- The 'alerts' array must always be present and contain actionable, numeric alert definitions (with name, description, threshold, duration, etc.).
- The 'slo' array must always be present, and each SLO must reference an SLI by name, include a numeric target, and a time_window.
- Always include these arrays, even if only one entry is present.

- You MUST always generate at least one actionable, numeric alert and at least one SLO referencing an SLI.
- If no alert or SLO is obvious, create a reasonable default based on the SLIs provided.
- Alerts must have a name, description, threshold, and duration.
- SLOs must reference an SLI by name, include a numeric target, and a time_window.
- Do not leave the 'alerts' or 'slo' arrays empty.

- For each SLI type (availability, latency, error, queue, saturation, utilization, throughput, custom), generate a realistic, actionable SLO and alert as shown above.
- Use the SLI's name/type for the SLO's 'sli' field and for alert descriptions.
- Set numeric targets and thresholds appropriate to the SLI type.
- Do not leave the 'alerts' or 'slo' arrays empty.